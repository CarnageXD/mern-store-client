(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{200:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(35),c=a.n(r),i=(a(200),a(337)),s=a(308),l=a(342),o=a(12),d=a(339),j=a(340),u=a(123),b=a(341),x=a(164),h=a.n(x),O=a(297),p=a(299),m=a(300),f=a(301),g=a(328),y=a(295),v=a(332),k=a(338),w=a(325),C=a(296),S=a(298),I=a(302),T=a(26),P=a(28),D=function(){return Object(P.d)()},L=P.e,z=a(15),q=Object(z.d)({name:"auth",initialState:{id:null,name:null,token:null,role:null},reducers:{setCredentials:function(e,t){e.id=t.payload.id,e.name=t.payload.name,e.token=t.payload.token,e.role=t.payload.role}}}),F=q.actions.setCredentials,A=q.reducer,M=a(0),_=function(e){var t=e.isOpen,a=e.toggleDrawer,n=L((function(e){var t;return null===(t=e.cart.products)||void 0===t?void 0:t.length})),r=!!L((function(e){return e.auth.token})),c=L((function(e){return e.auth.role})),s=D();return Object(M.jsx)(v.a,{open:t,anchor:"right",onClose:a,children:Object(M.jsxs)(i.a,{sx:{width:320},children:[Object(M.jsx)(u.a,{align:"center",onClick:a,color:"inherit",p:2,sx:{cursor:"pointer"},children:"Back"}),Object(M.jsx)(y.a,{}),Object(M.jsx)(k.a,{sx:{paddingLeft:2},children:r?Object(M.jsxs)(M.Fragment,{children:["ADMIN"===c?Object(M.jsx)(T.b,{to:"/admin",onClick:a,children:Object(M.jsxs)(w.a,{button:!0,style:{padding:"1rem .2rem"},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(O.a,{})}),Object(M.jsx)(S.a,{disableTypography:!0,sx:{fontSize:"1.3rem"},children:"Admin"})]})}):null,Object(M.jsx)(T.b,{to:"/profile",onClick:a,children:Object(M.jsxs)(w.a,{button:!0,style:{padding:"1rem .2rem"},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(p.a,{})}),Object(M.jsx)(S.a,{disableTypography:!0,sx:{fontSize:"1.3rem"},children:"Account"})]})}),Object(M.jsx)(T.b,{to:"/cart",onClick:a,children:Object(M.jsxs)(w.a,{button:!0,style:{padding:"1rem .2rem"},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(g.a,{badgeContent:n,color:"primary",children:Object(M.jsx)(m.a,{})})}),Object(M.jsx)(S.a,{disableTypography:!0,sx:{fontSize:"1.3rem"},children:"Cart"})]})}),Object(M.jsx)(T.b,{to:"/",onClick:a,children:Object(M.jsxs)(w.a,{onClick:function(){localStorage.removeItem("authData"),s(F({name:null,id:null,token:null,role:null}))},button:!0,style:{padding:"1rem .2rem"},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(f.a,{})}),Object(M.jsx)(S.a,{disableTypography:!0,sx:{fontSize:"1.3rem"},children:"Logout"})]})})]}):Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(T.b,{to:"/auth",onClick:a,children:Object(M.jsxs)(w.a,{button:!0,style:{padding:"1rem .2rem"},children:[Object(M.jsx)(C.a,{children:Object(M.jsx)(I.a,{})}),Object(M.jsx)(S.a,{disableTypography:!0,sx:{fontSize:"1.3rem"},children:"Login"})]})})})})]})})},E=Object(z.d)({name:"snackbar",initialState:{snackbarOpen:!1,snackbarType:"success",snackbarMessage:""},reducers:{setSnackbar:function(e,t){e.snackbarOpen=t.payload.snackbarOpen,e.snackbarType=t.payload.snackbarType,e.snackbarMessage=t.payload.snackbarMessage},setSuccessSnackbar:function(e,t){e.snackbarOpen=!0,e.snackbarType="success",e.snackbarMessage=t.payload},setErrorSnackbar:function(e,t){e.snackbarOpen=!0,e.snackbarType="error",e.snackbarMessage=t.payload},setInfoSnackbar:function(e,t){e.snackbarOpen=!0,e.snackbarType="info",e.snackbarMessage=t.payload}}}),N=E.actions,W=N.setSnackbar,B=N.setSuccessSnackbar,Q=N.setErrorSnackbar,R=N.setInfoSnackbar,$=E.reducer;function H(){var e=!!L((function(e){return e.auth.token})),t=D(),a=Object(n.useState)(!1),r=Object(o.a)(a,2),c=r[0],s=r[1],l=L((function(e){var t;return null===(t=e.cart.products)||void 0===t?void 0:t.length})),x=L((function(e){return e.auth.role})),v=function(){return s((function(e){return!e}))};return Object(M.jsxs)(i.a,{sx:{flexGrow:1,mb:2},children:[Object(M.jsxs)(d.a,{position:"static",elevation:0,children:[Object(M.jsxs)(j.a,{sx:{background:"white",color:"black"},children:[Object(M.jsx)(u.a,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:"bolder"},children:Object(M.jsx)(T.b,{to:"/",children:"MERN"})}),e?Object(M.jsxs)(M.Fragment,{children:["ADMIN"===x?Object(M.jsx)(T.b,{to:"/admin",children:Object(M.jsx)(b.a,{sx:{display:{xs:"none !important",md:"flex !important"}},color:"inherit",children:Object(M.jsx)(O.a,{})})}):null,Object(M.jsx)(T.b,{to:"/profile",children:Object(M.jsx)(b.a,{sx:{display:{xs:"none !important",md:"flex !important"}},color:"inherit",children:Object(M.jsx)(p.a,{})})}),Object(M.jsx)(T.b,{to:"/cart",children:Object(M.jsx)(b.a,{sx:{display:{xs:"none !important",md:"flex !important"}},color:"inherit",children:Object(M.jsx)(g.a,{badgeContent:l,color:"primary",children:Object(M.jsx)(m.a,{})})})}),Object(M.jsx)(T.b,{to:"/",children:Object(M.jsx)(b.a,{sx:{display:{xs:"none !important",md:"flex !important"}},onClick:function(){localStorage.removeItem("authData"),t(F({name:null,id:null,token:null,role:null})),t(B("Success logout"))},color:"inherit",children:Object(M.jsx)(f.a,{})})})]}):Object(M.jsx)(T.b,{to:"/auth",children:Object(M.jsx)(u.a,{sx:{display:{xs:"none",md:"block"}},variant:"h5",children:"Login"})}),Object(M.jsx)(b.a,{onClick:v,color:"inherit",sx:{display:{md:"none !important"}},children:Object(M.jsx)(h.a,{})})]}),Object(M.jsx)(y.a,{color:"#d4d4d4"})]}),Object(M.jsx)(_,{isOpen:c,toggleDrawer:v})]})}var U=a(303),V=a(304),J=a(305),G=a(306),Y=a(307),K=function(){return Object(M.jsx)(i.a,{sx:{backgroundColor:"#efefef"},children:Object(M.jsx)(l.a,{children:Object(M.jsxs)(i.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",p:2,children:[Object(M.jsxs)(i.a,{sx:{mb:1},color:"#777",children:[Object(M.jsx)(u.a,{align:"center",gutterBottom:!0,variant:"button",component:"div",color:"black",children:"Follow us"}),Object(M.jsxs)("a",{rel:"noreferrer",href:"https://instagram.com",target:"_blank",children:[" ",Object(M.jsx)(U.a,{})," "]}),Object(M.jsxs)("a",{rel:"noreferrer",href:"https://telegram.org",target:"_blank",children:[" ",Object(M.jsx)(V.a,{})," "]}),Object(M.jsxs)("a",{rel:"noreferrer",href:"https://facebook.com",target:"_blank",children:[" ",Object(M.jsx)(J.a,{})," "]}),Object(M.jsxs)("a",{rel:"noreferrer",href:"https://youtube.com",target:"_blank",children:[" ",Object(M.jsx)(G.a,{})," "]}),Object(M.jsxs)("a",{rel:"noreferrer",href:"https://twitter.com",target:"_blank",children:[" ",Object(M.jsx)(Y.a,{})," "]})]}),Object(M.jsx)(u.a,{variant:"caption",children:"\xa92021, C Inc. All Rights Reserved"})]})})})},X=function(e){var t=e.children;return Object(M.jsxs)(i.a,{display:"flex",flexDirection:"column",minHeight:"100vh",children:[Object(M.jsx)(s.a,{}),Object(M.jsx)(H,{}),Object(M.jsx)(l.a,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},maxWidth:"lg",children:t}),Object(M.jsx)(K,{})]})},Z=a(327),ee=a(324);function te(){var e=D(),t=L((function(e){return e.snackbar.snackbarOpen})),a=L((function(e){return e.snackbar.snackbarType})),n=L((function(e){return e.snackbar.snackbarMessage})),r=function(t,r){"clickaway"!==r&&e(W({snackbarOpen:!1,snackbarType:a,snackbarMessage:n}))};return Object(M.jsx)("div",{children:Object(M.jsx)(Z.a,{open:t,autoHideDuration:3e3,onClose:r,message:"",children:Object(M.jsx)(ee.a,{elevation:3,variant:"filled",onClose:r,color:a,children:n})})})}var ae=a(16),ne=a(165),re=a(47),ce="https://shrouded-taiga-38228.herokuapp.com/",ie=Object(ne.a)({reducerPath:"mainApi",tagTypes:["Cart","Orders","Products"],baseQuery:Object(re.d)({baseUrl:"".concat(ce,"api/")||!1,prepareHeaders:function(e,t){var a=(0,t.getState)().auth.token;return e.set("Authorization","Bearer ".concat(a)),e}}),endpoints:function(e){return{userRegister:e.mutation({query:function(e){return{url:"auth/register",method:"POST",body:e}}}),userLogin:e.mutation({query:function(e){return{url:"auth/login",method:"POST",body:e}}}),getCart:e.query({query:function(){return"cart"},providesTags:function(e){return e?[].concat(Object(ae.a)(e.products.map((function(e){return{type:"Cart",_id:e._id}}))),[{type:"Cart",id:"LIST"}]):[{type:"Cart",id:"LIST"}]}}),addCartProduct:e.mutation({query:function(e){return{url:"cart/add/",method:"POST",body:{product:e.id,size:e.size}}},invalidatesTags:[{type:"Cart",id:"LIST"}]}),deleteCartProduct:e.mutation({query:function(e){return{url:"cart/delete/",method:"DELETE",body:{product:e.id}}},invalidatesTags:[{type:"Cart",id:"LIST"}]}),adjustProductCartQuantity:e.mutation({query:function(e){return{url:"cart/update/",method:"PUT",body:{product:e.product,quantity:e.cartQuantity}}},invalidatesTags:[{type:"Cart",id:"LIST"}]}),getProducts:e.query({query:function(e){var t,a,n;return"/products?limit=".concat(e.limit,"&page=").concat(e.page,"&order=").concat(e.order,"&min=").concat(null===(t=e.filters)||void 0===t?void 0:t.min,"&max=").concat(null===(a=e.filters)||void 0===a?void 0:a.max,"&category=").concat(null===(n=e.filters)||void 0===n?void 0:n.category)},providesTags:function(e){return e?[].concat(Object(ae.a)(e.items.map((function(e){return{type:"Products",_id:e._id}}))),[{type:"Products",id:"LIST"}]):[{type:"Products",id:"LIST"}]}}),getProduct:e.query({query:function(e){return"/products/".concat(e)}}),addProduct:e.mutation({query:function(e){return{url:"products/create",method:"POST",body:e}},invalidatesTags:[{type:"Products",id:"LIST"}]}),getOrders:e.query({query:function(){return"orders/"},providesTags:function(e){return e?[].concat(Object(ae.a)(e.map((function(e){return{type:"Orders",_id:e._id}}))),[{type:"Orders",id:"LIST"}]):[{type:"Orders",id:"LIST"}]}}),addOrder:e.mutation({query:function(e){return{url:"orders/create/",method:"POST",body:{cartId:e}}},invalidatesTags:[{type:"Orders",id:"LIST"},{type:"Cart",id:"LIST"}]})}}}),se=ie.useUserRegisterMutation,le=ie.useUserLoginMutation,oe=ie.useGetProductsQuery,de=ie.useGetProductQuery,je=ie.useGetCartQuery,ue=ie.useAddCartProductMutation,be=ie.useDeleteCartProductMutation,xe=ie.useGetOrdersQuery,he=ie.useAddOrderMutation,Oe=ie.useAddProductMutation,pe=ie.useAdjustProductCartQuantityMutation,me=Object(z.d)({name:"cart",initialState:{products:[],cartId:null},reducers:{setCart:function(e,t){e.products=t.payload.products,e.cartId=t.payload.cartId}}}),fe=me.actions.setCart,ge=me.reducer,ye=a(25),ve=a(20),ke=a(343),we=a(344),Ce=function(e){var t=e.avg,a=e.price,n=e.quantity;return Object(M.jsx)(i.a,{mt:2,mb:4,width:"290px",children:Object(M.jsx)(ke.a,{variant:"outlined",children:Object(M.jsx)(i.a,{p:"10px 10px 0 10px",bgcolor:"#fafafa",children:Object(M.jsxs)(we.a,{children:[Object(M.jsx)(u.a,{variant:"h5",children:"Orders summary"}),Object(M.jsxs)(i.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:2,mb:2,children:[Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(u.a,{variant:"body2",children:"Total orders "}),Object(M.jsx)(u.a,{variant:"body1",children:n})]}),Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(u.a,{variant:"body2",children:"Total spent "}),Object(M.jsxs)(u.a,{variant:"body1",children:[a.toFixed(2),"$"]})]}),Object(M.jsx)(i.a,{width:"100%",children:Object(M.jsx)("hr",{})}),Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(M.jsx)(u.a,{variant:"body1",children:"Average spent "}),Object(M.jsxs)(u.a,{variant:"h5",children:[isNaN(t)?"0.00":t.toFixed(2),"$"]})]})]})]})})})})},Se=a(346),Ie=function(e){var t=e.product,a=e.quantity,n=e.total;return Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(M.jsxs)(i.a,{display:"flex",alignItems:"center",children:[Object(M.jsx)(C.a,{children:Object(M.jsx)("img",{src:ce+t.image,width:50,height:50,alt:"product"})}),Object(M.jsx)(S.a,{primary:t.title})]}),Object(M.jsxs)(i.a,{children:[Object(M.jsx)(S.a,{primary:"".concat(n,"$")}),Object(M.jsx)(S.a,{secondary:"".concat(t.price,"$ * ").concat(a,"x")})]})]})},Te=a(345),Pe=a(310),De=a(311),Le=a(312),ze=function(e){var t=e.orderTime,a=e.products,r=e._id,c=e.paymentStatus,s=Object(n.useState)(!1),l=Object(o.a)(s,2),d=l[0],j=l[1],b=function(e){return e.substr(0,10)};return Object(M.jsxs)(k.a,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:[Object(M.jsxs)(w.a,{button:!0,onClick:function(){j(!d)},children:[Object(M.jsx)(Pe.a,{sx:{mr:1,display:{xs:"none",md:"block"}}}),Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(u.a,{sx:{maxWidth:{xs:100,sm:150}},children:"Order #".concat(b(r))}),Object(M.jsxs)(i.a,{ml:1,display:"flex",alignItems:"center",children:[Object(M.jsx)(u.a,{sx:{pr:2},variant:"overline",color:"unpaid"===c?"darkred":"green",children:c}),Object(M.jsx)(u.a,{sx:{maxWidth:{xs:50,sm:100}},variant:"button",children:b(t)}),d?Object(M.jsx)(De.a,{}):Object(M.jsx)(Le.a,{})]})]})]}),Object(M.jsx)(Te.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(M.jsx)(k.a,{component:"div",disablePadding:!0,children:Object(M.jsx)(w.a,{sx:{flexDirection:"column"},button:!0,children:a.map((function(e){return Object(M.jsx)(Ie,Object(ve.a)({},e),e.id)}))})})})]})},qe=function(){var e=L((function(e){return e.auth.id})),t=xe(e),a=t.data,n=void 0===a?[]:a,r=t.isLoading,c=n.slice().reverse();console.log(c);var s=function(e){var t=e.map((function(e){return e.products.map((function(e){return e.total}))})).flat().reduce((function(e,t){return e+t}),0),a=e.length;return{price:t,quantity:a,avg:t/a}}(n);return r?Object(M.jsx)(Se.a,{color:"primary"}):Object(M.jsxs)(i.a,{mt:4,display:"flex",flexDirection:"column",minHeight:"50vh",children:[Object(M.jsx)(Ce,Object(ve.a)({},s)),Object(M.jsx)(u.a,{variant:"h6",children:"Your orders: "}),Object(M.jsx)(i.a,{width:"100%",display:"flex",flexDirection:"column",children:0===n.length?Object(M.jsx)(u.a,{sx:{mt:2},variant:"button",children:"No orders yet"}):c.map((function(e){return Object(M.jsx)(ze,Object(ve.a)({},e),e._id)}))})]})},Fe=function(){var e=L((function(e){return e.auth.name}));return Object(M.jsxs)(i.a,{mt:4,mb:4,children:[Object(M.jsxs)(u.a,{sx:{fontSize:{xs:"1.5rem",md:"2rem"}},variant:"h3",children:["Hello, ",e]}),Object(M.jsx)(qe,{})]})},Ae=a(333),Me=a(347),_e=a(348),Ee=function(e){var t=e.image,a=e.price,n=e.category,r=e._id,c=e.title,i=Object(ye.g)();return Object(M.jsx)(Ae.a,{item:!0,xs:12,sm:6,md:4,marginBottom:2,children:Object(M.jsx)(ke.a,{onClick:function(){return i.push("/detailed/".concat(r))},children:Object(M.jsxs)(Me.a,{sx:{display:"block !important"},children:[Object(M.jsx)(_e.a,{component:"img",image:ce+t}),Object(M.jsxs)(we.a,{children:[Object(M.jsx)(u.a,{variant:"h5",children:c}),Object(M.jsx)(u.a,{color:"silver",children:n}),Object(M.jsxs)(u.a,{variant:"h5",children:[a,"$"]})]})]})})})},Ne=a(323),We=a(329),Be=a(313),Qe=function(e){var t=e.value,a=e.setValue;return Object(M.jsx)(We.a,{variant:"standard",placeholder:"Search...",value:t,onChange:function(e){return a(e.target.value)},InputProps:{endAdornment:Object(M.jsx)(b.a,{onClick:function(){return a("")},children:Object(M.jsx)(Be.a,{fontSize:"small"})})}})},Re=a(352),$e=a(351),He=a(330),Ue=a(321),Ve=function(e){var t=e.setValue,a=e.children,n=e.label;return Object(M.jsx)(i.a,{m:2,children:Object(M.jsxs)($e.a,{fullWidth:!0,children:[Object(M.jsx)(He.a,{id:"select-id",children:n}),Object(M.jsx)(Ue.a,{variant:"standard",sx:{width:"110px"},label:"Sort by",labelId:"select-id",onChange:function(e){return t(e.target.value)},children:a})]})})},Je=function(e){var t=e.setValue;return Object(M.jsxs)(Ve,{label:"Sort by",setValue:t,children:[Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"newest",children:"Newest"}),Object(M.jsxs)(Re.a,{sx:{display:"flex !important"},value:"lowest",children:["Low ",">"," High"]}),Object(M.jsxs)(Re.a,{sx:{display:"flex !important"},value:"highest",children:["High ",">"," Low"]}),Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"category",children:"Category"})]})},Ge=a(353),Ye=a(314),Ke=function(e){var t=e.setValue;return Object(M.jsxs)(Ve,{label:"Filter",setValue:t,children:[Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"Lifestyle",children:"Lifestyle"}),Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"Running",children:"Running"}),Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"Basketball",children:"Basketball"}),Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"Jordan",children:"Jordan"}),Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"Tennis",children:"Tennis"}),Object(M.jsx)(Re.a,{sx:{display:"flex !important"},value:"Track",children:"Track"})]})},Xe=function(e){var t=e.setFilters,a=e.setPage,r=Object(n.useState)(!1),c=Object(o.a)(r,2),s=c[0],l=c[1],d=Object(n.useState)(0),j=Object(o.a)(d,2),b=j[0],x=j[1],h=Object(n.useState)(0),O=Object(o.a)(h,2),p=O[0],m=O[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),k=g[0],w=g[1],C=function(){return function(){l((function(e){return!e}))}};return Object(M.jsxs)(i.a,{children:[Object(M.jsxs)(Ge.a,{style:{padding:12,marginLeft:8},size:"large",onClick:C(),children:["Filter",Object(M.jsx)(Ye.a,{})]}),Object(M.jsx)(v.a,{anchor:"right",open:s,onClose:C(),children:Object(M.jsxs)(i.a,{component:"form",width:"320px",onSubmit:function(e){e.preventDefault(),t({min:b,max:p,category:k}),a(1)},children:[Object(M.jsx)(u.a,{align:"center",onClick:C(),color:"inherit",p:2,sx:{cursor:"pointer"},children:"Back"}),Object(M.jsx)(y.a,{}),Object(M.jsxs)(i.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(M.jsx)(u.a,{sx:{mt:2},align:"center",variant:"h5",children:"Categories"}),Object(M.jsx)(Ke,{setValue:w})]}),Object(M.jsx)(y.a,{}),Object(M.jsx)(u.a,{sx:{mt:2},align:"center",variant:"h5",children:"Price"}),Object(M.jsxs)(i.a,{display:"flex",justifyContent:"center",mt:1,sx:{"& > *":{width:100,m:2}},children:[Object(M.jsx)(We.a,{onChange:function(e){return x(+e.target.value)},type:"number",label:"min"}),Object(M.jsx)(We.a,{onChange:function(e){return m(+e.target.value)},type:"number",label:"max"})]}),Object(M.jsx)(y.a,{}),Object(M.jsx)(Ge.a,{name:"clear",onClick:function(){return x(0),m(0),void t({})},style:{padding:4,marginTop:12,width:"100%"},size:"large",children:"Clear filter"}),Object(M.jsx)(Ge.a,{name:"search",onClick:function(){return l(!1)},type:"submit",style:{padding:4,marginTop:12,width:"100%"},size:"large",children:"SEARCH"})]})})]})},Ze=function(){var e=Object(n.useState)(1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),l=s[0],d=s[1],j=Object(n.useState)("Newest"),b=Object(o.a)(j,2),x=b[0],h=b[1],O=Object(n.useState)({}),p=Object(o.a)(O,2),m=p[0],f=p[1],g=oe({limit:9,page:a,order:x,filters:m}),y=g.data,v=void 0===y?{}:y;return g.isLoading?Object(M.jsx)(Se.a,{color:"primary"}):Object(M.jsxs)(i.a,{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",children:[Object(M.jsxs)(i.a,{mb:4,width:"100%",flexDirection:{xs:"column",md:"row"},display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(Qe,{value:l,setValue:d}),Object(M.jsxs)(i.a,{mt:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(M.jsx)(Je,{setValue:h}),Object(M.jsx)(Xe,{setPage:r,setFilters:f})]})]}),Object(M.jsx)(Ae.a,{container:!0,spacing:4,children:v.items.length>0?v.items.filter((function(e){return e.title.toLowerCase().includes(l.toLowerCase())})).map((function(e){return Object(M.jsx)(Ee,Object(ve.a)({},e),e._id)})):Object(M.jsx)(u.a,{sx:{pl:"1.5rem"},gutterBottom:!0,variant:"h5",children:"No products"})}),Object(M.jsx)(Ne.a,{sx:{mb:4,mt:4},page:a,onChange:function(e,t){r(t)},size:"large",count:Math.ceil(v.totalItems/9),showFirstButton:!0,showLastButton:!0})]})},et=a(166),tt=a.n(et),at=function(){return Object(M.jsx)(tt.a,{children:[{title:"Nike promo",image:"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/new-shoe-releases-06032020-1593546250.jpg"},{title:"Nike promo",image:"https://img-cdn.tnwcdn.com/image?fit=1280%2C720&url=https%3A%2F%2Fcdn0.tnwcdn.com%2Fwp-content%2Fblogs.dir%2F1%2Ffiles%2F2019%2F11%2Fnike.jpg&signature=5709e93e20918cda02ef67130225d2e6"},{title:"Nike promo",image:"https://i2.wp.com/rematch.net/wp-content/uploads/2019/06/Nike-Sale-Up-to-50-off-2019.png"}].map((function(e){return Object(M.jsx)(i.a,{sx:{height:{xs:"35vh",sm:"70vh",md:"85vh"},backgroundImage:"url(".concat(e.image,")"),backgroundSize:"cover",backgroundPosition:"center"}},e.image)}))})},nt=function(){return Object(M.jsxs)(i.a,{children:[Object(M.jsx)(at,{}),Object(M.jsx)(u.a,{sx:{mb:4,mt:4},variant:"h4",children:"All products"}),Object(M.jsx)(i.a,{display:"flex",flexDirection:"column",alignItems:"center",children:Object(M.jsx)(Ze,{})})]})},rt=function(e){var t=e.id,a=D(),r=L((function(e){return e.cart.products})),c=de(t),s=c.data,l=void 0===s?{}:s,d=c.isLoading,j=Object(n.useState)(""),b=Object(o.a)(j,2),x=b[0],h=b[1],O=-1!==r.findIndex((function(e){return e.product._id===t&&x===e.size})),p=!!L((function(e){return e.auth.token})),m=L((function(e){return e.auth.id})),f=ue(),g=Object(o.a)(f,1)[0];return d?Object(M.jsx)(i.a,{sx:{display:"flex",justifyContent:"center"},children:Object(M.jsx)(Se.a,{color:"primary"})}):Object(M.jsxs)(i.a,{display:"flex",sx:{mb:2,flexDirection:{xs:"column",md:"row"}},children:[Object(M.jsx)(i.a,{children:Object(M.jsx)(i.a,{component:"img",sx:{height:{xs:"360px",md:"500px"},mr:2},src:l.image?ce+l.image:""})}),Object(M.jsxs)(i.a,{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",children:[Object(M.jsxs)(i.a,{children:[Object(M.jsx)(u.a,{variant:"overline",color:"primary.light",children:l.sex}),Object(M.jsxs)(u.a,{variant:"h4",children:[" ",l.title]}),Object(M.jsx)(u.a,{sx:{mb:2},variant:"h6",color:"primary.light",children:l.category}),Object(M.jsx)(u.a,{sx:{lineHeight:2},children:l.description}),Object(M.jsx)(We.a,{sx:{width:100,mt:2,alignSelf:"flex-end"},label:"Size",onChange:function(e){return h(e.target.value)},select:!0,children:l.sizes.split(", ").map((function(e){return Object(M.jsx)(Re.a,{value:e,children:e})}))})]}),Object(M.jsxs)(i.a,{sx:{mt:4},display:"flex",justifyContent:"space-between",children:[Object(M.jsxs)(u.a,{variant:"h4",children:[l.price,"$"]}),p?Object(M.jsx)(Ge.a,{onClick:function(){""!==x?g({id:t,userId:m,size:x}).unwrap().then((function(){return a(B("Products was successfully added to cart"))})).catch((function(e){return a(Q(e.data.message))})):a(R("Please, choose one of the sizes"))},disabled:O,variant:"contained",children:"Add to cart"}):Object(M.jsx)(T.b,{to:"/auth",children:Object(M.jsx)(Ge.a,{onClick:function(){return a(R("Please, login to purchase product"))},variant:"contained",children:"Add to cart"})})]})]})]})},ct=function(){var e=Object(ye.h)().id;return Object(M.jsx)(i.a,{mb:4,children:Object(M.jsx)(rt,{id:e})})},it=a(22),st=a.n(it),lt=a(43),ot=a(316),dt=a(317),jt=a(318),ut=function(e){var t=e.product,a=e.quantity,r=(e.total,e.size),c=e._id,s=Object(n.useState)(a),l=Object(o.a)(s,2),d=l[0],j=l[1],b=D(),x=L((function(e){return e.auth.id})),h=pe(),O=Object(o.a)(h,1)[0],p=be(),m=Object(o.a)(p,1)[0];return Object(M.jsxs)(i.a,{mb:2,mt:2,display:"flex",justifyContent:"space-between",width:"100%",children:[Object(M.jsxs)(i.a,{display:"flex",children:[Object(M.jsx)("img",{width:100,height:100,src:ce+t.image,alt:"product"}),Object(M.jsxs)(i.a,{ml:1,children:[Object(M.jsx)(u.a,{variant:"h5",sx:{fontSize:{xs:"0.9rem",md:"1rem"}},children:t.title}),Object(M.jsxs)(u.a,{variant:"body1",children:[t.price,"$ x ",d]}),Object(M.jsxs)(u.a,{color:"primary.light",variant:"body2",children:["Size: ",r]}),Object(M.jsxs)(i.a,{display:"flex",flexWrap:"nowrap",pt:2,children:[Object(M.jsx)(Ge.a,{onClick:function(){d<10&&(j(d+1),O({userId:x,product:t._id,cartQuantity:d+1}))},children:Object(M.jsx)(ot.a,{fontSize:"small"})}),Object(M.jsx)(Ge.a,{onClick:function(){d>1&&(j(d-1),O({userId:x,product:t._id,cartQuantity:d-1}))},children:Object(M.jsx)(dt.a,{})})]})]})]}),Object(M.jsxs)(i.a,{display:"flex",justifyContent:"space-between",flexDirection:"column",children:[Object(M.jsx)(Ge.a,{onClick:function(){m({id:c,userId:x}),b(B("The product was successfully deleted"))},children:Object(M.jsx)(jt.a,{})}),Object(M.jsxs)(u.a,{variant:"h5",children:[t.price*d,"$"]})]})]})},bt=function(e,t){return e.map((function(e){return e[t]})).reduce((function(e,t){return e+t}),0)},xt=function(e){var t=e.totalPrice,a=e.totalQuantity,n=e.handleAddProduct;return Object(M.jsx)(i.a,{mb:4,children:Object(M.jsx)(ke.a,{variant:"outlined",children:Object(M.jsx)(i.a,{p:"10px 10px 0 10px",bgcolor:"#fafafa",children:Object(M.jsxs)(we.a,{children:[Object(M.jsx)(u.a,{variant:"h5",children:"Total amount"}),Object(M.jsxs)(i.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:2,mb:2,children:[Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(u.a,{variant:"body2",children:"Initial amount "}),Object(M.jsxs)(u.a,{variant:"body1",children:[t,"$"]})]}),Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(u.a,{variant:"body2",children:"Products amount "}),Object(M.jsx)(u.a,{variant:"body1",children:a})]}),Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(u.a,{variant:"body2",children:"Delivery price "}),Object(M.jsx)(u.a,{variant:"body1",children:t>150?"0$":"15$"})]}),Object(M.jsx)(i.a,{width:"100%",children:Object(M.jsx)("hr",{})}),Object(M.jsxs)(i.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(M.jsx)(u.a,{variant:"body1",children:"Grand total "}),Object(M.jsxs)(u.a,{variant:"h5",children:[t>150?t:t+15,"$"]})]})]}),Object(M.jsx)(Ge.a,{onClick:n,size:"small",variant:"contained",color:"primary",children:"Proceed to checkout"})]})})})})},ht=function(e){var t=e.products,a=e.cartId,n=D(),r=bt(t,"total"),c=bt(t,"quantity"),s=he(),l=Object(o.a)(s,1)[0],d=function(){var e=Object(lt.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(a).unwrap().then((function(e){window.location=e,n(R("Payment is processing")),n(fe({products:[],cartId:null}))})).catch((function(e){return n(Q(e.data.message))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(i.a,{height:"100%",display:"flex",justifyContent:"space-between",flexDirection:{xs:"column",md:"row"},children:[Object(M.jsx)(i.a,{display:"flex",flexDirection:"column",width:"100%",mr:1,children:t.map((function(e){return Object(M.jsx)(ut,Object(ve.a)({},e),e._id)}))}),Object(M.jsx)(xt,{handleAddProduct:d,totalPrice:r,totalQuantity:c})]})},Ot=a.p+"static/media/emptyCart.968ec22f.png",pt=a(319),mt=function(){var e=Object(ye.g)();return Object(M.jsxs)(i.a,{display:"flex",flexDirection:"column",alignItems:"center",height:"50vh",justifyContent:"center",m:4,children:[Object(M.jsx)("img",{height:180,width:200,src:Ot,alt:"emptyCartImage"}),Object(M.jsxs)(i.a,{margin:2,textAlign:"center",children:[Object(M.jsx)(u.a,{variant:"h4",children:"Empty cart"}),Object(M.jsx)(u.a,{variant:"caption",children:"Add at least one product to order it!"})]}),Object(M.jsxs)(Ge.a,{variant:"contained",sx:{backgroundColor:"#a4a4a4",mb:4},onClick:function(){return e.push("/")},children:[Object(M.jsx)(pt.a,{}),Object(M.jsx)(u.a,{children:"Back to products"})]})]})},ft=function(){var e=L((function(e){return e.cart.products})),t=L((function(e){return e.cart.cartId}));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(u.a,{sx:{display:{xs:"none",md:"block"}},variant:"h4",children:"Cart"}),e&&0!==e.length?Object(M.jsx)(ht,{products:e,cartId:t}):Object(M.jsx)(mt,{})]})},gt=a(335),yt=a(354),vt=a(115),kt=a.n(vt),wt=a(117),Ct=function(e){var t=e.toggle,a=Object(P.d)(),n=Object(wt.a)(),r=n.register,c=n.handleSubmit,d=n.formState.errors,j=se(),b=Object(o.a)(j,2),x=b[0],h=b[1].isLoading;return h?Object(M.jsx)(Se.a,{color:"primary"}):Object(M.jsxs)(l.a,{component:"main",maxWidth:"xs",children:[Object(M.jsx)(s.a,{}),Object(M.jsxs)(i.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(M.jsx)(gt.a,{sx:{m:1,bgcolor:"gray"},children:Object(M.jsx)(kt.a,{})}),Object(M.jsx)(u.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(M.jsxs)(i.a,{component:"form",onSubmit:c((function(e){return function(e){x(Object(ve.a)(Object(ve.a)({},e),{},{role:"USER"})).unwrap().then((function(){t(),a(B("User has been successfully created"))})).catch((function(e){return a(Q(e.data.message))}))}(e)})),sx:{mt:3},children:[Object(M.jsxs)(Ae.a,{container:!0,spacing:2,children:[Object(M.jsxs)(Ae.a,{item:!0,xs:12,children:[Object(M.jsx)(We.a,Object(ve.a)(Object(ve.a)({},r("name",{required:"Fill this input, please",maxLength:{value:36,message:"Max name length is 36"}})),{},{fullWidth:!0,id:"name",label:"Name",autoFocus:!0})),d.name&&Object(M.jsx)(u.a,{variant:"caption",color:"salmon",children:d.name.message})]}),Object(M.jsxs)(Ae.a,{item:!0,xs:12,children:[Object(M.jsx)(We.a,Object(ve.a)(Object(ve.a)({},r("email",{required:"Fill this input, please",pattern:{value:/\S+@\S+\.\S+/,message:"Email should have this format: example@mail.com"}})),{},{fullWidth:!0,id:"email",label:"Email Address"})),d.email&&Object(M.jsx)(u.a,{variant:"caption",color:"salmon",children:d.email.message})]}),Object(M.jsxs)(Ae.a,{item:!0,xs:12,children:[Object(M.jsx)(We.a,Object(ve.a)(Object(ve.a)({},r("password",{required:"Fill this input, please",minLength:{value:6,message:"Password min length should be 6 "}})),{},{fullWidth:!0,type:"password",label:"Password",id:"password"})),d.password&&Object(M.jsx)(u.a,{variant:"caption",color:"salmon",children:d.password.message})]})]}),Object(M.jsx)(Ge.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(M.jsx)(Ae.a,{container:!0,justifyContent:"flex-end",children:Object(M.jsx)(Ae.a,{item:!0,children:Object(M.jsx)(yt.a,{sx:{cursor:"pointer"},onClick:t,variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})},St=function(e){var t,a=e.toggle,n=le(),r=Object(o.a)(n,2),c=r[0],d=r[1].isLoading,j=D(),b=Object(wt.a)(),x=b.register,h=b.handleSubmit,O=b.formState.errors,p=function(){var e=Object(lt.a)(st.a.mark((function e(t){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Object(ve.a)({},t)).unwrap().then((function(e){console.log(e),j(F(e)),localStorage.setItem("authData",JSON.stringify(e)),j(B("Welcome back!"))})).catch((function(e){j(Q("Check your credentials and try again"))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?Object(M.jsx)(Se.a,{color:"primary"}):Object(M.jsxs)(l.a,{component:"main",maxWidth:"xs",children:[Object(M.jsx)(s.a,{}),Object(M.jsxs)(i.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(M.jsx)(gt.a,{sx:{m:1,bgcolor:"gray"},children:Object(M.jsx)(kt.a,{})}),Object(M.jsx)(u.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(M.jsxs)(i.a,{component:"form",onSubmit:h((function(e){return p(e)})),sx:{mt:1},children:[Object(M.jsx)(We.a,Object(ve.a)(Object(ve.a)({},x("email",{required:"Fill this input, please"})),{},{margin:"normal",fullWidth:!0,id:"email",label:"Email Address",autoFocus:!0})),O.email&&Object(M.jsx)(u.a,{variant:"caption",color:"salmon",children:O.email.message}),Object(M.jsx)(We.a,Object(ve.a)(Object(ve.a)({},x("password",{required:"Fill this input, please",minLength:{value:6,message:"Password length is too short"}})),{},{margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password"})),O.password&&Object(M.jsx)(u.a,{variant:"caption",color:"salmon",children:null===(t=O.password)||void 0===t?void 0:t.message}),Object(M.jsx)(Ge.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(M.jsx)(Ae.a,{container:!0,children:Object(M.jsx)(Ae.a,{item:!0,children:Object(M.jsx)(yt.a,{sx:{cursor:"pointer"},onClick:a,variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})},It=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=function(){r((function(e){return!e}))};return Object(M.jsx)(i.a,{sx:{height:{xs:"100vh",md:"100%"}},display:"flex",justifyContent:"center",alignItems:"center",width:"100%",mb:2,children:a?Object(M.jsx)(St,{toggle:c}):Object(M.jsx)(Ct,{toggle:c})})},Tt=a(3),Pt=function(){var e=Object(n.useState)({title:"",description:"",category:"",price:"",image:"",sex:"",sizes:"37, 38, 39, 40, 41, 42, 43, 44"}),t=Object(o.a)(e,2),a=t[0],r=t[1],c=D(),s=Oe(),l=Object(o.a)(s,2),d=l[0],j=l[1].isLoading,b=function(e){"image"===e.target.name?r(Object(ve.a)(Object(ve.a)({},a),{},Object(Tt.a)({},e.target.name,e.target.files[0]))):r(Object(ve.a)(Object(ve.a)({},a),{},Object(Tt.a)({},e.target.name,e.target.value)))},x=function(){var e=new FormData;return e.append("title",a.title),e.append("description",a.description),e.append("category",a.category),e.append("price",a.price),e.append("sex",a.sex),e.append("sizes",a.sizes),e.append("image",a.image),e};return j?Object(M.jsx)(Se.a,{color:"primary"}):Object(M.jsxs)(i.a,{width:"300px",children:[Object(M.jsx)(u.a,{gutterBottom:!0,variant:"h4",children:"Create product: "}),Object(M.jsxs)(i.a,{onSubmit:function(e){e.preventDefault();var t=x();d(t).unwrap().then((function(){c(B("Products was successfully created")),r({title:"",description:"",category:"",price:"",image:"",sex:"",sizes:""})})).catch((function(e){return c(Q(e.data.message))}))},display:"flex",flexDirection:"column",component:"form",autoComplete:"off",sx:{"& > :not(style)":{m:1,width:"25ch"}},children:[Object(M.jsx)(We.a,{required:!0,onChange:b,variant:"standard",label:"Title",id:"title",name:"title",value:a.title}),Object(M.jsx)(We.a,{required:!0,onChange:b,variant:"standard",label:"Description",multiline:!0,rows:3,id:"description",name:"description",value:a.description}),Object(M.jsxs)(We.a,{required:!0,onChange:b,variant:"standard",label:"Category",id:"category",name:"category",select:!0,value:a.category,children:[Object(M.jsx)(Re.a,{value:"Lifestyle",children:"Lifestyle"}),Object(M.jsx)(Re.a,{value:"Running",children:"Running"}),Object(M.jsx)(Re.a,{value:"Basketball",children:"Basketball"}),Object(M.jsx)(Re.a,{value:"Jordan",children:"Jordan"}),Object(M.jsx)(Re.a,{value:"Tennis",children:"Tennis"}),Object(M.jsx)(Re.a,{value:"Track",children:"Track"})]}),Object(M.jsx)(We.a,{required:!0,onChange:b,variant:"standard",label:"Price",id:"price",name:"price",type:"number",value:a.price}),Object(M.jsxs)(We.a,{required:!0,onChange:b,variant:"standard",label:"Sex",id:"sex",name:"sex",select:!0,value:a.sex,children:[Object(M.jsx)(Re.a,{value:"male",children:"Male"}),Object(M.jsx)(Re.a,{value:"female",children:"Female"})]}),Object(M.jsx)(We.a,{required:!0,onChange:b,variant:"standard",label:"Sizes",id:"sizes",name:"sizes",placeholder:"Format: '37, 38, 39...' ",value:a.sizes}),Object(M.jsx)("input",{required:!0,onChange:b,type:"file",accept:"image/*",name:"image",id:"image"}),Object(M.jsx)(Ge.a,{type:"submit",variant:"contained",children:"Submit product"})]})]})},Dt=function(){return Object(M.jsx)(i.a,{children:Object(M.jsx)(Pt,{})})},Lt=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],r=t[1],c=D();window.addEventListener("storage",(function(){return r(localStorage.getItem("authData"))})),Object(n.useEffect)((function(){var e=localStorage.getItem("authData");if(e){var t=JSON.parse(e);t.token&&c(F(t))}}),[c,a]);var s=L((function(e){return e.auth.token})),l=L((function(e){return e.auth.id})),d=je(l),j=d.data,u=d.isLoading;Object(n.useEffect)((function(){s&&j&&c(fe({products:j.products,cartId:j.id}))}),[j,c,s,a]);var b=function(e){var t=L((function(e){return e.auth.role}));return e?Object(M.jsxs)(ye.d,{children:[Object(M.jsx)(ye.b,{path:"/products",exact:!0,children:Object(M.jsx)(nt,{})}),Object(M.jsx)(ye.b,{path:"/profile",exact:!0,children:Object(M.jsx)(Fe,{})}),Object(M.jsx)(ye.b,{path:"/detailed/:id",children:Object(M.jsx)(ct,{})}),Object(M.jsx)(ye.b,{path:"/cart",exact:!0,children:Object(M.jsx)(ft,{})}),"ADMIN"===t?Object(M.jsx)(ye.b,{path:"/admin",exact:!0,children:Object(M.jsx)(Dt,{})}):null,Object(M.jsx)(ye.a,{to:"/products"})]}):Object(M.jsxs)(ye.d,{children:[Object(M.jsx)(ye.b,{path:"/",exact:!0,children:Object(M.jsx)(nt,{})}),Object(M.jsx)(ye.b,{path:"/auth",children:Object(M.jsx)(It,{})}),Object(M.jsx)(ye.b,{path:"/detailed/:id",children:Object(M.jsx)(ct,{})}),Object(M.jsx)(ye.a,{to:"/"})]})}(!!s);return u?Object(M.jsx)(Se.a,{color:"primary"}):Object(M.jsx)(i.a,{width:"100%",children:b})},zt=function(){return Object(M.jsxs)(X,{children:[Object(M.jsx)(te,{}),Object(M.jsx)(Lt,{})]})},qt=a(320),Ft=a(168),At=Object(Ft.a)({palette:{primary:{main:"#000",light:"#b4b4b4"}},shape:{borderRadius:25}}),Mt=Object(z.a)({reducer:Object(Tt.a)({auth:A,cart:ge,snackbar:$},ie.reducerPath,ie.reducer),middleware:function(e){return e().concat(ie.middleware)}});c.a.render(Object(M.jsx)(P.a,{store:Mt,children:Object(M.jsx)(T.a,{children:Object(M.jsx)(qt.a,{theme:At,children:Object(M.jsx)(zt,{})})})}),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.1c882b45.chunk.js.map